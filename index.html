<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Our Story</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <h1>To the One I Met in the Most Unexpected Way</h1>
    <p>From Discord to real life, from strangers to soulmates. This is our story ‚Äî raw, messy, honest‚Ä¶ and always, always real.</p>
    <a href="#start" class="btn-start">Scroll to Start ‚Üì</a>
  </header>

  <div class="music-player">
    <button id="music-toggle">Play Music üéµ</button>
    <audio id="bg-music" loop>
      <source src="compile/palagi.mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
  </div>

  <main id="start">
    <section class="fade-in">
      <h2>May 4, 2021 ‚Äî Where It All Began</h2>
      <p>I saw your Discord name on Bumble. We didn‚Äôt even match ‚Äî but I still added you. You messaged first. And that changed everything.</p>
      <div class="slideshow" style="position: relative; height: auto;">
      <img src="compile/may4.png" alt="Discord conversation screenshot" class="image" />
            </div>
    </section>

    <section class="fade-in">
      <h2>June 4, 2021 ‚Äî The First Effort</h2>
      <p>You made me want to make things for someone again. So I made this ‚Äî and so many more after.</p>
      <div class="slideshow" style="position: relative; height: auto;">
      <img src="compile/effort.png" alt="Google form love letter screenshot" class="image" />
      </div>
    </section>

    <section class="fade-in">
      <h2>July 5, 2021 ‚Äî We Made It Official</h2>
      <p>We finally called it official. That day started something real ‚Äî and I never stopped wanting to build more with you since.</p>
    </section>

    <section class="fade-in">
      <h2>Jan 24, 2022 ‚Äî First Meetup</h2>
      <p>After months of talking, we met. You carried me ‚Äî literally. SM Pampanga will never be the same.</p>
      <div class="slideshow" style="position: relative; height: auto;">
        <div class="slideshow-controls">
            <button class="prev">‚Üê Prev</button>
            <button class="next">Next ‚Üí</button>
          </div>
        <img src="compile/first/1.jpg" class="slide active">
        <img src="compile/first/2.jpg" class="slide">
        <img src="compile/first/3.jpg" class="slide">
        <img src="compile/first/4.jpg" class="slide">
        <img src="compile/first/5.jpg" class="slide">
        <img src="compile/first/6.jpg" class="slide">
        <img src="compile/first/7.jpg" class="slide">
        <img src="compile/first/8.jpg" class="slide">
        <img src="compile/first/9.png" class="slide">
        <img src="compile/first/10.png" class="slide">
        <img src="compile/first/11.png" class="slide">

      </div>
    </section>

    <section class="fade-in">
      <h2>Angeles Pampanga ‚Äî Second Meetup</h2>
      <p>We met again. Still nervous, still giddy, but it felt like home. We were getting closer to what we dreamed about.</p>
      <div class="slideshow" style="position: relative; height: auto;">
        <div class="slideshow-controls">
            <button class="prev">‚Üê Prev</button>
            <button class="next">Next ‚Üí</button>
          </div>
        <img src="compile/second/1.jpg" class="slide active">
        <img src="compile/second/2.jpg" class="slide">
        <img src="compile/second/3.jpg" class="slide">
        <img src="compile/second/4.jpg" class="slide">
        <video class="video-player" controls>
          <source src="compile/second/5.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      </div>
    </section>

    <section class="fade-in">
      <h2>Aurora Fest ‚Äî Living Together</h2>
      <p>We sing, we laughed, and we came home together. Because by then, we weren‚Äôt just visiting each other ‚Äî we were building a life side by side.</p>
      <div class="slideshow" style="position: relative; height: auto;">
        <div class="slideshow-controls">
            <button class="prev">‚Üê Prev</button>
            <button class="next">Next ‚Üí</button>
          </div>
        <img src="compile/aurora/1.jpg" class="slide active">
        <img src="compile/aurora/2.jpg" class="slide">
        <img src="compile/aurora/3.jpg" class="slide">
        <img src="compile/aurora/4.jpg" class="slide">
        <img src="compile/aurora/5.jpg" class="slide">
        <img src="compile/aurora/6.jpg" class="slide">
        <img src="compile/aurora/7.jpg" class="slide">
        <img src="compile/aurora/8.jpg" class="slide">
        <img src="compile/aurora/9.jpg" class="slide">
      </div>
    </section>

    <section class="fade-in">
      <h2>Where I Failed, Where I Hope</h2>
      <p>I made mistakes. I hid something I shouldn't have. But every day after, I tried to show you how much I love you ‚Äî through actions, time, honesty. I can‚Äôt undo the past, but I hope someday I can be part of your peace again.</p>
    </section>

    <section class="fade-in final">
      <h2>To You</h2>
      <p>
        I'm sorry for the things I did that caused you pain. If I could undo the moments that hurt you, I would ‚Äî but since I can't, I'll keep trying to become someone better, for you and for myself.
      </p>
      <p>
        Thank you for loving me through the chaos, for believing in what we had, and for making me feel what it means to truly be home. This story ‚Äî our story ‚Äî means the world to me. Always.
      </p>
      <p style="margin-top: 20px; font-style: italic;">
        Whatever tomorrow holds, I'm grateful we met. I love you.
      </p>
    </section>
    
  </main>

  <script>
    // Fade-in animation
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });
  
    document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
  
    // Reveal slideshow on section click
    document.querySelectorAll("section").forEach(section => {
      section.addEventListener("click", e => {
        // Only toggle if clicked outside slideshow buttons
        if (!e.target.closest(".slideshow-controls")) {
          section.classList.toggle("revealed");
        }
      });
    });
  
    // Scoped slideshow logic per slideshow
    document.querySelectorAll(".slideshow").forEach(slideshow => {
      const slides = Array.from(slideshow.querySelectorAll(".slide"));
      let current = 0;
  
      const showSlide = (index) => {
        slides.forEach(slide => slide.classList.remove("active"));
        slides[index].classList.add("active");
      };
  
      const prev = slideshow.querySelector(".prev");
      const next = slideshow.querySelector(".next");
  
      if (prev && next) {
        prev.addEventListener("click", e => {
          e.stopPropagation();
          current = (current - 1 + slides.length) % slides.length;
          showSlide(current);
        });
  
        next.addEventListener("click", e => {
          e.stopPropagation();
          current = (current + 1) % slides.length;
          showSlide(current);
        });
  
        showSlide(current);
      }
    });
  
    // Music toggle
    const musicBtn = document.getElementById('music-toggle');
    const bgMusic = document.getElementById('bg-music');
    let isPlaying = false;
  
    musicBtn.addEventListener('click', () => {
      if (isPlaying) {
        bgMusic.pause();
        musicBtn.textContent = 'Play Music üéµ';
      } else {
        bgMusic.play();
        musicBtn.textContent = 'Pause Music ‚è∏Ô∏è';
      }
      isPlaying = !isPlaying;
    });
  </script>
  
</body>
</html>